# 📌 감각 메모

## 🔍 \[문제 이름]: `16987 - 계란으로 계란치기`

---

### 1. **DFS 함수에 어떤 변수를 매개변수로 넣을 것인가? (→ 상태 전달 요소)**

> **기준**: **재귀 함수가 호출될 때 바뀌어야 하는 값은 매개변수로**,
> **공통적으로 계속 유지해야 하는 누적 결과나 기준값은 global 혹은 외부 저장소로**

| 변수         | 역할                       | 매개변수 여부 | 이유                                          |
| ------------ | -------------------------- | ------------- | --------------------------------------------- |
| `idx`        | 현재 들고 있는 계란 인덱스 | ✅ Yes        | 매 DFS마다 다음 계란으로 이동하기 때문에 바뀜 |
| `count`      | 가장 많이 깬 계란 수       | ❌ No         | 전역 최댓값 갱신에 쓰이며, 누적 상태로 사용됨 |
| `durability` | 계란들의 현재 상태         | ❌ No         | 전역에서 공유되며 백트래킹으로 복원됨         |

---

### 2. **백트래킹 포인트는 어디인가? (→ 상태 복원 위치)**

> **기준**: DFS 호출 전에 "상태 변경" → DFS 호출 후 **변경한 상태를 되돌려야 할 곳**

```python
durability[idx] -= weight[j]
durability[j] -= weight[idx]
dfs(idx + 1)
durability[idx] += weight[j]   # ← 백트래킹
durability[j] += weight[idx]   # ← 백트래킹
```

- 💡 이 문제에서는 "한 번 때리고 나서 상태를 원상복귀해야 하므로" DFS 직후 복원이 필요.

---

### 3. **상태 변화의 최소 단위는 무엇인가? (→ 탐색 단계별 변화 단위)**

> **기준**: "탐색 트리의 가지가 분기될 때마다 변경되는 요소"

| 요소             | 최소 변화 단위                   |
| ---------------- | -------------------------------- |
| 내구도 변화      | 2개 (현재 계란과 타격 대상 계란) |
| DFS 깊이 (`idx`) | +1 (다음 계란)                   |

---

### 4. **탐색 대상은 누구인가? (→ 자식 노드 정의)**

> **기준**: 현재 상태에서 "다음으로 이동 가능한 노드"들의 조건

- 현재 계란(idx)을 들고, `j`번째 계란을 칠 수 있는 경우:

```python
if j != idx and durability[j] > 0
```

- 💡 조건 분기를 통해 유효한 자식 노드만 탐색 (자기 자신 제외, 상대 계란이 안 깨진 경우만)

---

### 5. **기저 조건(Base case)은 어디인가?**

> **기준**: DFS가 더 이상 진행될 수 없는 **탐색 종료 조건**

```python
if idx == N:
    update_answer()
    return
```

- 💡 더 이상 들 계란이 없는 경우 → 지금까지 상태로 정답 갱신

---

### 6. **그 외 이 문제에서 특이하게 고려할 요소는?**

- ✅ 타격할 수 있는 계란이 하나도 없을 경우에도 다음으로 넘어가야 하므로 `has_hit` flag가 필요
- ✅ 상태가 `durability` 하나에 저장되어 있어야 백트래킹이 간단해짐 (복사할 필요 X)

---

## 🏁 최종 요약

| 항목               | 현재 문제에서의 적용                         |
| ------------------ | -------------------------------------------- |
| ✅ 매개변수 선정   | `idx`만 넣고 나머지는 전역 또는 참조 기반    |
| ✅ 백트래킹 포인트 | DFS 이후 내구도 복원                         |
| ✅ 상태 최소 단위  | 계란 2개 내구도 동시 변화                    |
| ✅ 탐색 대상       | `j != idx and durability[j] > 0`             |
| ✅ 기저 조건       | `idx == N`                                   |
| ✅ 특이 요소       | 타격 못 하는 경우를 위한 `has_hit` flag 사용 |

---
