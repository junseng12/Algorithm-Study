# 📌 감각 메모

## 🔍 \[문제 이름]: `9663 - N-Queen`

---

### 1. **DFS 함수에 어떤 변수를 매개변수로 넣을 것인가? (→ 상태 전달 요소)**

> **기준**: "탐색할 때마다 변하는 것 = 매개변수", "전체 탐색 동안 유지해야 할 값 = 전역 or 참조형"

| 변수                            | 역할                     | 매개변수 여부     | 이유                                                       |
| ------------------------------- | ------------------------ | ----------------- | ---------------------------------------------------------- |
| `row`                           | 현재 탐색 중인 행(깊이)  | ✅ Yes            | DFS 깊이를 row로 표현 → 퀸의 배치 순서 결정에 사용됨       |
| `count`                         | 조건 만족한 퀸 배치 개수 | ❌ No             | 전역 변수로 누적 관리. DFS 내부에서 갱신함                 |
| `visited_col`, `diag1`, `diag2` | 열/대각선 점유 여부      | ❌ No (전역 배열) | 전체 탐색 중 일관되게 사용해야 하므로 전역 참조형으로 사용 |

---

### 2. **백트래킹 포인트는 어디인가? (→ 상태 복원 위치)**

> 퀸을 놓을 때마다 **visited_col\[col]**, `diag1[row - col + (N - 1)]`, `diag2[row + col]`을 True로 설정한 뒤, 재귀 이후 False로 복원.

- 💡 백트래킹의 전형적 패턴 적용
- 상태 복원 위치:

```python
visited_col[col] = diag1[row - col + (N - 1)] = diag2[row + col] = True
dfs(row + 1)
visited_col[col] = diag1[row - col + (N - 1)] = diag2[row + col] = False
```

---

### 3. **상태 변화의 최소 단위는 무엇인가? (→ 탐색 단계별 변화 단위)**

> 상태는 "현재까지 놓은 퀸의 수(row)"와 "현재 위치에 놓을 수 있는 col 선택 여부"에 의해 변화

| 요소             | 최소 변화 단위                            |
| ---------------- | ----------------------------------------- |
| `row`            | +1 (다음 행으로 이동)                     |
| `visited_col`    | 해당 col에 퀸 배치 여부 (True / False)    |
| `diag1`, `diag2` | 해당 대각선에 퀸 배치 여부 (True / False) |

---

### 4. **탐색 대상은 누구인가? (→ 자식 노드 정의)**

> 현재 행(row)에서 **놓을 수 있는 모든 col 후보**가 자식 노드가 됨

- 각 col에 대해 → **놓을 수 있다면 퀸을 놓고 재귀 호출**
- 즉, **현재 row에서 col 순회하며 유효한 위치 찾기**가 탐색 대상 정의

```python
for col in range(N):
    if not visited_col[col] and not diag1[row - col + (N - 1)] and not diag2[row + col]:
        # 상태 설정 후 dfs 호출
        dfs(row + 1)
```

---

### 5. **기저 조건(Base case)은 어디인가?**

> 모든 행(row)에 대해 퀸 배치를 완료한 경우 (row == N)

```python
if row == N:
    count += 1
    return
```

- 💡 row == N이면 퀸을 N개 성공적으로 배치한 것이므로 count 증가 후 종료

---

### 6. **그 외 이 문제에서 특이하게 고려할 요소는?**

| 요소                           | 설명                                                          |
| ------------------------------ | ------------------------------------------------------------- |
| ✅ 대각선 index 계산 주의 필요 | diag1: row - col + (N - 1), diag2: row + col, 크기는 2N - 1   |
| ✅ 백트래킹 필수 적용          | visited_col / diag1 / diag2 모두 정확히 복원 필요             |
| ❌ visited 불필요(행 기준)     | row는 DFS 깊이로 고정 관리되므로 별도 visited\[row] 필요 없음 |
| ❌ graph 필요 없음             | 그래프 탐색이 아닌, 조합 탐색 / 상태 공간 탐색 문제           |

---

## 🏁 최종 요약

| 항목               | 현재 문제에서의 적용                                                     |
| ------------------ | ------------------------------------------------------------------------ |
| ✅ 매개변수 선정   | `row`만 사용 (퀸 개수는 row로 표현)                                      |
| ✅ 백트래킹 포인트 | visited_col, diag1, diag2 설정 후 dfs → 복원 패턴 적용                   |
| ✅ 상태 최소 단위  | 행(row), 열(col), 대각선(diag1/diag2) 점유 여부                          |
| ✅ 탐색 대상       | 현재 row에서 놓을 수 있는 col 후보 순회                                  |
| ✅ 기저 조건       | row == N → 성공 배치 count 증가                                          |
| ✅ 특이 요소       | 대각선 index 계산 정확성 필요 / visited\[row]는 불필요 / graph 탐색 아님 |

---
