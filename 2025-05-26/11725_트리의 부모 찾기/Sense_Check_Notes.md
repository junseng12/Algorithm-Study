# 🌳 감각 노트: 트리 추적형 DFS

## 🎯 목적

- DFS 탐색 중, **탐색 경로 기반으로 정보를 추적하는 감각** 훈련
- 단순 방문 여부를 넘어서, 부모/구성/경로 등을 **기억하고 복원하는 구조**를 이해함

---

## 📌 핵심 구조

```python
def dfs(node):
    for next in graph[node]:
        if not visited[next]:
            parent[next] = node
            dfs(next)
```

- `parent[]`: 현재 노드가 어디서 왔는지(부모)를 기록
- DFS는 단순 방문이 아니라, **정보를 "흘려보내는 통로"**

---

## 🧠 대표 문제 감각 요약

| 문제                     | 핵심 추적 요소   | DFS 역할                           |
| ------------------------ | ---------------- | ---------------------------------- |
| `11725` 트리의 부모 찾기 | 부모 노드        | DFS가 탐색 경로에 따라 부모를 결정 |
| `2213` 트리의 독립집합   | 선택된 구성 요소 | 선택/비선택 분기 + 구성 노드 추적  |
| `1949` 우수 마을         | 선택 여부        | DP 기반 상태 저장 + 구성 재현은 X  |

---

## 💡 기억 키워드

- DFS = 탐색 + 정보 전파
- 트리에서는 **방문 방향 자체가 정보**가 된다 (부모 → 자식)
- 트리 탐색 중 추적해야 할 대상:

  - 부모
  - 선택된 노드 집합
  - 누적 거리 or 서브트리 크기 등

---

## 🔁 자주 등장하는 패턴

```python
# 부모 추적
parent[next] = node

# 구성 요소 누적
selected[node][1].extend(selected[child][0])

>> selected[]: 현재 구성 요소에 어떤 노드가 포함되었는지를 기록

# 서브트리 크기
dp[node] = 1 + sum(dp[child] for child in children)
```

---

## 📂 감각 적용 예

| 구조 유형      | 실전 예시                                    |
| -------------- | -------------------------------------------- |
| 경로 추적      | 경로 복원 문제 (ex. DFS로 A → B 경로 재구성) |
| 구성 추적      | 독립 집합, 우수 마을                         |
| 상위 구조 추적 | LCA (Lowest Common Ancestor)                 |
